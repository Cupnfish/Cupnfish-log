### ã€åšæ–‡ã€‘æŠŠ`include_dir`å¸¦å…¥ç°ä»£ 

[`include_dir`](https://crates.io/crates/include_dir)è¿™ä¸ªcrateæä¾›äº†ä¸€ä¸ª`include_dir!()`å®ï¼Œç”¨äºåœ¨ç¼–è¯‘æ—¶å°†æ•´ä¸ªç›®å½•æ ‘åµŒå…¥ä½ çš„äºŒè¿›åˆ¶æ–‡ä»¶ä¸­ã€‚è¿™å°±åƒ`include_str!()`ï¼Œä½†é’ˆå¯¹æ•´ä¸ªç›®å½•ã€‚

æˆ‘æœ€è¿‘åšäº†å¤§é‡çš„å·¥ä½œæ¥æ”¹å–„è¿™ä¸ªcrateï¼Œå¢åŠ äº†æƒ³è¦çš„åŠŸèƒ½ï¼Œæ”¹å–„äº†ç¼–è¯‘æ—¶é—´ï¼Œå¹¶å·©å›ºäº†å®ƒçš„æ ¸å¿ƒç›®æ ‡ï¼Œæ‰€ä»¥æˆ‘è§‰å¾—æœ‰å¿…è¦è¿›è¡Œé¡¹ç›®æ›´æ–°ã€‚

æˆ‘ä¹Ÿæƒ³åˆ©ç”¨è¿™ç¯‡åšæ–‡ä½œä¸ºä¸€ä¸ªæœºä¼šï¼Œå¾æ±‚å¤§å®¶çš„è¯„è®ºã€‚å¦‚æœæœ‰æ›´å¤šçš„äººå…³æ³¨è¿™ä¸ªcrateï¼Œé‚£å°†æ˜¯éå¸¸å¥½çš„ï¼Œè€Œä½¿ç”¨åƒ[CREV](https://web.crev.dev/rust-reviews/)è¿™æ ·çš„å…¬å…±å®¡æŸ¥ç³»ç»Ÿä¼šè®©äººä»¬æ›´æœ‰ä¿¡å¿ƒåœ¨ç”Ÿäº§ä¸­ä½¿ç”¨`include_dir`ã€‚ä½ å¯ä»¥æŸ¥çœ‹[å…¥é—¨æŒ‡å—](https://github.com/crev-dev/cargo-crev/blob/master/cargo-crev/src/doc/getting_started.md)ä»¥äº†è§£æ›´å¤šã€‚

[Read More](https://adventures.michaelfbryan.com/posts/bringing-include_dir-into-the-modern-era/?utm_source=reddit&utm_medium=social&utm_campaign=modern-include-dir): https://adventures.michaelfbryan.com/posts/bringing-include_dir-into-the-modern-era/?utm_source=reddit&utm_medium=social&utm_campaign=modern-include-dir


### æˆ‘çš„ç¬¬ä¸€ä¸ªRuståº”ç”¨ï¼Œgitæ™ºèƒ½ç­¾å‡ºï¼Œæ¨¡ç³Šæœç´¢åˆ†æ”¯ï¼Œæˆ‘æœ‰ç‚¹å–œæ¬¢è¿™é—¨è¯­è¨€â¤ï¸ğŸ¦€ 

ä½œè€…çš„ç¬¬ä¸€ä¸ªRusté¡¹ç›®ï¼Œå‘äº†ä¸€ä¸ªå¸–å­ï¼Œçƒ­è¯„å¸®å¿™åšäº†ä»£ç reviewï¼Œç»™å‡ºäº†ä¸€äº›å»ºè®®ã€‚

![preview](https://libreddit.spike.codes/img/1a8jmq5xhx981.gif)

æˆ‘è®°æ€§ä¸æ˜¯å¾ˆå¥½ï¼Œå› æ­¤å¹³æ—¶åšäº†ä¸€äº›ç¬”è®°ã€‚

è¿™æ˜¯ä¸€äº›å°å»ºè®®ï¼Œåœ¨ä½ å°†æ¥å†™Rustæ—¶åº”è¯¥ä¼šæœ‰å¸®åŠ©ã€‚

- https://github.com/craciuncezar/git-smart-checkout/blob/main/src/git_client.rs#L7 è¿™äº›éƒ½å¯ä»¥åªæ˜¯å‡½æ•°ã€‚Rustä¸æ˜¯OOPï¼Œæ‰€ä»¥å¦‚æœä½ ä¸éœ€è¦çŠ¶æ€ï¼Œä¸éœ€è¦ç”¨ç»“æ„æŠŠæ‰€æœ‰è¿™äº›ä¸œè¥¿ç»‘å®šåœ¨ä¸€èµ·ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚

- å¯¹äº`GitBranch`ï¼Œä½ å¯ä»¥åªéœ€è¦`[derive(Clone)]`è€Œä¸æ˜¯è‡ªå·±å®ç°å®ƒã€‚https://github.com/craciuncezar/git-smart-checkout/blob/main/src/git_client/git_branch.rs#L4 å‚è€ƒæ–‡çŒ®ï¼šhttps://doc.rust-lang.org/rust-by-example/trait/derive.html

- åœ¨Rustä¸­ï¼Œå¦‚æœä½ èƒ½åœ¨å¯èƒ½çš„æƒ…å†µä¸‹å°†`clone`ç»™è°ƒç”¨è€…è´Ÿè´£ï¼Œè€Œä¸æ˜¯è‡ªå·±å»åšï¼Œé‚£æ˜¯æœ€å¥½çš„ï¼Œåœ¨ https://github.com/craciuncezar/git-smart-checkout/blob/main/src/git_client/utils.rs#L3 ï¼Œæˆ‘è®¤ä¸º`to_vec`åœ¨åº•å±‚åšäº†ä¸€ä¸ª`clone`ã€‚æˆ‘çš„æ„æ€æ˜¯ï¼Œå¦‚æœä½ éœ€è¦æŸä¸ªä¸œè¥¿çš„æ˜ç¡®æ‹·è´ï¼Œå°±ç”¨æ‰€æœ‰æƒè€Œä¸æ˜¯å¼•ç”¨ï¼Œä½†è®©è°ƒç”¨è€…å†³å®šä»–æ˜¯æƒ³ç»™ä½ æ‰€æœ‰æƒè¿˜æ˜¯å…‹éš†è¿™ä¸ªå€¼ç»™ä½ ã€‚

- åœ¨è¿™ä¸ªåªåœ¨ä¸€ä¸ªåœ°æ–¹ä½¿ç”¨çš„`fn`çš„å…·ä½“æ¡ˆä¾‹ä¸­ï¼Œæˆ‘è®¤ä¸ºä½ ä¸€èˆ¬ä¸éœ€è¦å®ƒï¼Œä½†å¦‚æœä½ è¦åœ¨å¤šä¸ªåœ°æ–¹ä½¿ç”¨å®ƒï¼Œä½ å¯ä»¥æŠŠ`Vec`ä¼ æˆå¯å˜çš„ï¼Œå¹¶ç«‹å³æ’åºï¼Œä¸éœ€è¦`clone`ã€‚ä½ ä¹Ÿå¯ä»¥å°†`Vec<GitBranch>`åŒ…è£…æˆä¸€ä¸ªæ–°çš„ç±»å‹ï¼Œå¹¶ä¸ºå…¶å®ç°`fn` https://rust-unofficial.github.io/patterns/patterns/behavioural/newtype.htmlã€‚

- ä½ çš„æ¨¡å—å’Œç±»å‹çš„å¦ä¸€ç§æ„é€ å¯ä»¥æ˜¯`git`ã€`git::client`ã€`git::client::switch_to_branch`ã€`git::Branch`ã€‚

- å½“æŠŠä¸€ä¸ª`Vec`å¼•ç”¨ä¼ é€’ç»™ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œé€šå¸¸ä½œä¸ºåˆ‡ç‰‡æ¥æ”¶ï¼š`branches: &[GitBranch]`æ›´æ–¹ä¾¿ã€‚è°ƒç”¨ä»£ç ä¿æŒä¸å˜ï¼Œä½†ç°åœ¨å¯ä»¥ä¼ é€’æ•°ç»„ä»¥åŠ`Vec`å»è°ƒç”¨è¯¥å‡½æ•°ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œ`String`å’Œ`&str`ä¹Ÿæ˜¯å¦‚æ­¤ã€‚

- æˆ‘çœ‹åˆ°ä½ æœ‰å¾ˆå¤šçš„`unwrap`ã€‚æˆ‘å»ºè®®æ˜¯è¯•ä¸€ä¸‹[`anyhow`](https://docs.rs/anyhow/latest/anyhow/)ã€‚ä½ ä¼šå‘ç°é”™è¯¯å¤„ç†ä¼šå˜çš„å®¹æ˜“ã€‚


[Read More](https://libreddit.spike.codes/r/rust/comments/rwwa35/media_my_first_rust_app_git_smart_checkout_fuzzy/): https://libreddit.spike.codes/r/rust/comments/rwwa35/media_my_first_rust_app_git_smart_checkout_fuzzy/

å¦å¤–æœ¬å¸–ä½œè€…æåˆ°[ã€ŠRustè®¾è®¡æ¨¡å¼ï¼ˆRust Design Patternsï¼‰ã€‹](https://rust-unofficial.github.io/patterns/)è¿™æœ¬ä¹¦ï¼Œæ„Ÿå…´è¶£çš„ä¹Ÿå¯ä»¥çœ‹çœ‹ã€‚

### æœ¬å‘¨å‘¨æŠ¥

> æˆ‘åœ¨twitterä¸Šè¿›è¡Œäº†ä¸€æ¬¡æå…¶ç§‘å­¦çš„æ°‘æ„è°ƒæŸ¥ï¼Œå¹¶ç¡®å®šè¿™ä¸æ˜¯å®ƒçš„å‘éŸ³: https://twitter.com/at_tcsc/status/1476643344285581315
> 
> ![pronounced](./pronounced.png)
>
> ç¡®å®, å®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª`Vec<T, A>`ï¼Œ å‘éŸ³ä¸º `Veck-tah`ã€‚ ğŸ˜›
> 
> å¬ç€ï¼Œæˆ‘æ¬ç¦»æ³¢å£«é¡¿æ˜¯ä¸ºäº†é¿å…è¿™ç±»äº‹æƒ…ğŸ˜†ã€‚

-[the8472 å’Œ Thom Chiovoloni åœ¨ github ä¸Šè¯„è®º](https://github.com/rust-lang/rust/pull/92463#discussion_r777059401)

[Read More](https://this-week-in-rust.org/blog/2022/01/05/this-week-in-rust-424/): https://this-week-in-rust.org/blog/2022/01/05/this-week-in-rust-424/

From æ—¥æŠ¥å°ç»„ Cupnfish

ç¤¾åŒºå­¦ä¹ äº¤æµå¹³å°è®¢é˜…ï¼š

- [Rust.cc è®ºå›: æ”¯æŒ rss](https://rustcc.cn/)
- [å¾®ä¿¡å…¬ä¼—å·ï¼šRust è¯­è¨€ä¸­æ–‡ç¤¾åŒº](https://rustcc.cn/article?id=ed7c9379-d681-47cb-9532-0db97d883f62)